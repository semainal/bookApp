{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lenovo/Desktop/bookApp/diary/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lenovo/Desktop/bookApp/diary/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import\"./login.css\";import Header from\"../../components/header/Header\";import{useRef}from\"react\";import{useContext}from\"react\";import{Context}from\"../../context/Context\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var userRef=useRef();var passwordRef=useRef();var _useContext=useContext(Context),dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;//isFetching\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch({type:\"LOGIN_START\"});_context.prev=2;_context.next=5;return axios.post(\"/auth/login\",{username:userRef.current.value,password:passwordRef.current.value});case 5:res=_context.sent;dispatch({type:\"LOGIN_SUCCESS\",payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:\"LOGIN_FAILURE\"});case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"loginTitle\",children:\"Giri\\u015F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginLabel\",children:\"Kullan\\u0131c\\u0131 Ad\\u0131\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"loginInput\",placeholder:\"Kullan\\u0131c\\u0131 Ad\\u0131n\\u0131z\\u0131 Girin\",ref:userRef}),/*#__PURE__*/_jsx(\"label\",{className:\"loginLabel\",children:\"\\u015Eifre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"loginInput\",placeholder:\"\\u015Eifrenizi Girin\",ref:passwordRef}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginButtons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",type:\"submit\",disabled:isFetching,children:\"Giri\\u015F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginRegisterButton\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/register\",children:\"Kay\\u0131t\"})})]})]})]})]});}","map":{"version":3,"names":["Header","useRef","useContext","Context","axios","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","userRef","passwordRef","_useContext","dispatch","isFetching","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","wrap","_callee$","_context","prev","next","preventDefault","type","post","username","current","value","password","sent","payload","data","t0","stop","_x","apply","arguments","children","className","onSubmit","placeholder","ref","disabled","to"],"sources":["C:/Users/lenovo/Desktop/bookApp/diary/src/pages/login/Login.jsx"],"sourcesContent":["import \"./login.css\"\r\nimport Header from \"../../components/header/Header\"\r\nimport { useRef } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"../../context/Context\";\r\nimport axios from \"axios\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport default function Login() {\r\n  const userRef = useRef();\r\n  const passwordRef = useRef();\r\n  const {dispatch, isFetching} = useContext(Context); //isFetching\r\n\r\n  const handleSubmit =async (e) => {\r\n    e.preventDefault();\r\n    dispatch({type:\"LOGIN_START\"});\r\n    try{\r\n      const res = await axios.post(\"/auth/login\", {\r\n        username: userRef.current.value,\r\n        password:passwordRef.current.value,\r\n      })\r\n      dispatch({type:\"LOGIN_SUCCESS\", payload:res.data});\r\n\r\n    }catch(err){\r\n      dispatch({type:\"LOGIN_FAILURE\"});\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n    <div className=\"login\">\r\n        <span className=\"loginTitle\">Giriş</span>\r\n        <form  className=\"loginForm\" onSubmit={handleSubmit}>\r\n            <label className=\"loginLabel\">Kullanıcı Adı</label>\r\n            <input \r\n            type=\"text\" \r\n            className=\"loginInput\" \r\n            placeholder=\"Kullanıcı Adınızı Girin\"\r\n            ref={userRef}\r\n        />\r\n\r\n            <label className=\"loginLabel\">Şifre</label>\r\n            <input \r\n            type=\"password\" \r\n            className=\"loginInput\" \r\n            placeholder=\"Şifrenizi Girin\"\r\n            ref={passwordRef}\r\n         />\r\n        \r\n        <div className=\"loginButtons\">\r\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching} >Giriş</button>\r\n            \r\n       \r\n            <button className=\"loginRegisterButton\">\r\n              <Link className=\"link\" to=\"/register\">Kayıt</Link></button>\r\n        \r\n      \r\n          \r\n        \r\n              </div>\r\n          \r\n        </form>\r\n\r\n        \r\n        \r\n    </div>\r\n \r\n    </>\r\n  )\r\n}\r\n"],"mappings":"sQAAA,MAAO,aAAa,CACpB,MAAO,CAAAA,MAAM,KAAM,gCAAgC,CACnD,OAASC,MAAM,KAAQ,OAAO,CAC9B,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,OAAO,KAAQ,uBAAuB,CAC/C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAIxC,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,GAAM,CAAAC,OAAO,CAAGZ,MAAM,CAAC,CAAC,CACxB,GAAM,CAAAa,WAAW,CAAGb,MAAM,CAAC,CAAC,CAC5B,IAAAc,WAAA,CAA+Bb,UAAU,CAACC,OAAO,CAAC,CAA3Ca,QAAQ,CAAAD,WAAA,CAARC,QAAQ,CAAEC,UAAU,CAAAF,WAAA,CAAVE,UAAU,CAAyB;AAEpD,GAAM,CAAAC,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAOC,CAAC,MAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC1BN,CAAC,CAACO,cAAc,CAAC,CAAC,CAClBf,QAAQ,CAAC,CAACgB,IAAI,CAAC,aAAa,CAAC,CAAC,CAACJ,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEX,CAAA1B,KAAK,CAAC6B,IAAI,CAAC,aAAa,CAAE,CAC1CC,QAAQ,CAAErB,OAAO,CAACsB,OAAO,CAACC,KAAK,CAC/BC,QAAQ,CAACvB,WAAW,CAACqB,OAAO,CAACC,KAC/B,CAAC,CAAC,QAHIX,GAAG,CAAAG,QAAA,CAAAU,IAAA,CAITtB,QAAQ,CAAC,CAACgB,IAAI,CAAC,eAAe,CAAEO,OAAO,CAACd,GAAG,CAACe,IAAI,CAAC,CAAC,CAACZ,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,aAGnDZ,QAAQ,CAAC,CAACgB,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,yBAAAJ,QAAA,CAAAc,IAAA,MAAAnB,OAAA,gBAEpC,kBAbK,CAAAL,YAAYA,CAAAyB,EAAA,SAAAxB,IAAA,CAAAyB,KAAA,MAAAC,SAAA,OAajB,CAMD,mBACEpC,KAAA,CAAAE,SAAA,EAAAmC,QAAA,eACAvC,IAAA,CAACP,MAAM,GAAC,CAAC,cACTS,KAAA,QAAKsC,SAAS,CAAC,OAAO,CAAAD,QAAA,eAClBvC,IAAA,SAAMwC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,YAAK,CAAM,CAAC,cACzCrC,KAAA,SAAOsC,SAAS,CAAC,WAAW,CAACC,QAAQ,CAAE9B,YAAa,CAAA4B,QAAA,eAChDvC,IAAA,UAAOwC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,8BAAa,CAAO,CAAC,cACnDvC,IAAA,UACAyB,IAAI,CAAC,MAAM,CACXe,SAAS,CAAC,YAAY,CACtBE,WAAW,CAAC,kDAAyB,CACrCC,GAAG,CAAErC,OAAQ,CAChB,CAAC,cAEEN,IAAA,UAAOwC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,YAAK,CAAO,CAAC,cAC3CvC,IAAA,UACAyB,IAAI,CAAC,UAAU,CACfe,SAAS,CAAC,YAAY,CACtBE,WAAW,CAAC,sBAAiB,CAC7BC,GAAG,CAAEpC,WAAY,CACnB,CAAC,cAEHL,KAAA,QAAKsC,SAAS,CAAC,cAAc,CAAAD,QAAA,eACzBvC,IAAA,WAAQwC,SAAS,CAAC,aAAa,CAACf,IAAI,CAAC,QAAQ,CAACmB,QAAQ,CAAElC,UAAW,CAAA6B,QAAA,CAAE,YAAK,CAAQ,CAAC,cAGnFvC,IAAA,WAAQwC,SAAS,CAAC,qBAAqB,CAAAD,QAAA,cACrCvC,IAAA,CAACF,IAAI,EAAC0C,SAAS,CAAC,MAAM,CAACK,EAAE,CAAC,WAAW,CAAAN,QAAA,CAAC,YAAK,CAAM,CAAC,CAAQ,CAAC,EAKtD,CAAC,EAEN,CAAC,EAIN,CAAC,EAEJ,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}