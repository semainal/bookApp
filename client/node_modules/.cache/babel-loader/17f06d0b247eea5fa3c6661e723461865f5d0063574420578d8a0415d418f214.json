{"ast":null,"code":"import _toConsumableArray from\"C:/Users/lenovo/Desktop/bookApp/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/lenovo/Desktop/bookApp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lenovo/Desktop/bookApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lenovo/Desktop/bookApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./list.css\";import React,{useState,useEffect}from'react';import axios from'axios';import{useLocation}from'react-router-dom/cjs/react-router-dom.min';import{useContext}from'react';import{Context}from'../../context/Context';import Header from'../../components/header/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var List=function List(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newBook=_useState4[0],setNewBook=_useState4[1];var _useLocation=useLocation(),search=_useLocation.search;var _useContext=useContext(Context),user=_useContext.user;useEffect(function(){var fetchBooks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,filteredBooks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/books\".concat(search));case 3:res=_context.sent;filteredBooks=res.data.filter(function(book){return book.username===user.username;});setBooks(filteredBooks);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchBooks(){return _ref.apply(this,arguments);};}();fetchBooks();},[search,user]);var createBook=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"/books\",{title:newBook,username:user.username});case 3:res=_context2.sent;// MongoDB'ye yeni bir kitap eklemek için kullanılacak endpoint'i burada belirtin\nsetBooks([].concat(_toConsumableArray(books),[res.data]));setNewBook('');_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function createBook(){return _ref2.apply(this,arguments);};}();var deleteBook=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/books/\".concat(id),{data:{username:user.username}});case 3:// MongoDB'den belirli bir görevi silmek için kullanılacak endpoint'i burada belirtin\nsetBooks(books.filter(function(book){return book._id!==id;}));_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 9:case\"end\":return _context3.stop();}},_callee3,null,[[0,6]]);}));return function deleteBook(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bookList\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"bookListTitle\",children:\"Okumak \\u0130stedi\\u011Fim Kitaplar\"}),/*#__PURE__*/_jsx(\"input\",{className:\"bookListInput\",type:\"text\",value:newBook,onChange:function onChange(e){return setNewBook(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"bookListButton\",onClick:createBook,children:\"Ekle\"}),/*#__PURE__*/_jsx(\"ul\",{children:books.map(function(book){return/*#__PURE__*/_jsxs(\"li\",{className:\"bookListLi\",children:[book.title,/*#__PURE__*/_jsx(\"button\",{className:\"bookListDeleteButton\",onClick:function onClick(){return deleteBook(book._id);},children:\"Sil\"})]},book._id);})})]})]});};export default List;","map":{"version":3,"names":["React","useState","useEffect","axios","useLocation","useContext","Context","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","List","_useState","_useState2","_slicedToArray","books","setBooks","_useState3","_useState4","newBook","setNewBook","_useLocation","search","_useContext","user","fetchBooks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","filteredBooks","wrap","_callee$","_context","prev","next","get","concat","sent","data","filter","book","username","t0","console","error","stop","apply","arguments","createBook","_ref2","_callee2","_callee2$","_context2","post","title","_toConsumableArray","deleteBook","_ref3","_callee3","id","_callee3$","_context3","delete","_id","_x","children","className","type","value","onChange","e","target","onClick","map"],"sources":["C:/Users/lenovo/Desktop/bookApp/client/src/pages/bookList/List.jsx"],"sourcesContent":["import \"./list.css\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useLocation } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { useContext } from 'react';\r\nimport { Context } from '../../context/Context';\r\nimport Header from '../../components/header/Header';\r\n  \r\n  const List = () => {\r\n    const [books, setBooks] = useState([]);\r\n    const [newBook, setNewBook] = useState('');\r\n    const { search } = useLocation();\r\n    const { user } = useContext(Context);\r\n\r\n\r\n  \r\n      useEffect(() => {\r\n        const fetchBooks = async () => {\r\n     \r\n     \r\n        try {\r\n        const res = await axios.get(`/books${search}`);\r\n        const filteredBooks = res.data.filter(book => book.username === user.username);\r\n        setBooks(filteredBooks);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchBooks();\r\n  }, [search, user]);\r\n  \r\n\r\n  \r\n  const createBook = async () => {\r\n    try {\r\n      const res = await axios.post(\"/books\", { title: newBook, username: user.username }); // MongoDB'ye yeni bir kitap eklemek için kullanılacak endpoint'i burada belirtin\r\n      setBooks([...books, res.data]);\r\n      setNewBook('');\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  \r\n  \r\n  \r\n    const deleteBook = async (id) => {\r\n      try {\r\n        await axios.delete(`/books/${id}`, {\r\n          data: {username: user.username}\r\n      })// MongoDB'den belirli bir görevi silmek için kullanılacak endpoint'i burada belirtin\r\n        setBooks(books.filter(book => book._id !== id));\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n  \r\n    return (\r\n      <>\r\n      <Header/>\r\n      <div className='bookList'>\r\n        <h1 className='bookListTitle'>Okumak İstediğim Kitaplar</h1>\r\n        <input className=\"bookListInput\"\r\n          type=\"text\"\r\n          value={newBook}\r\n          onChange={e => setNewBook(e.target.value)}\r\n        />\r\n        <button className='bookListButton' onClick={createBook}>Ekle</button>\r\n        <ul >\r\n          {books.map(book => (\r\n            <li className=\"bookListLi\" key={book._id}>\r\n              {book.title}\r\n              <button className='bookListDeleteButton' onClick={() => deleteBook(book._id)}>Sil</button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      </>\r\n    );\r\n  };\r\n  \r\n  export default List;\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}