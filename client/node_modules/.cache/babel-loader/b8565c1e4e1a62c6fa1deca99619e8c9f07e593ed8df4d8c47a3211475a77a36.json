{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lenovo/Desktop/bookApp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lenovo/Desktop/bookApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lenovo/Desktop/bookApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import Header from'../../components/header/Header';import'./home.css';import Posts from'../../components/posts/Posts';import{useLocation}from'react-router-dom';import axios from'axios';import{Context}from'../../context/Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useLocation=useLocation(),search=_useLocation.search;var _useContext=useContext(Context),user=_useContext.user;useEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,filteredPosts;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/posts\".concat(search));case 3:res=_context.sent;filteredPosts=res.data.filter(function(post){return post.username===user.username;});setPosts(filteredPosts);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();fetchPosts();},[search,user]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"home\",children:/*#__PURE__*/_jsx(Posts,{posts:posts})})]});}","map":{"version":3,"names":["React","useContext","useEffect","useState","Header","Posts","useLocation","axios","Context","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","posts","setPosts","_useLocation","search","_useContext","user","fetchPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","filteredPosts","wrap","_callee$","_context","prev","next","get","concat","sent","data","filter","post","username","t0","console","error","stop","apply","arguments","children","className"],"sources":["C:/Users/lenovo/Desktop/bookApp/client/src/pages/home/Home.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport Header from '../../components/header/Header';\r\nimport './home.css';\r\nimport Posts from '../../components/posts/Posts';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Context } from '../../context/Context';\r\n\r\nexport default function Home() {\r\n  const [posts, setPosts] = useState([]);\r\n  const { search } = useLocation();\r\n  const { user } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const res = await axios.get(`/posts${search}`);\r\n        const filteredPosts = res.data.filter(post => post.username === user.username);\r\n        setPosts(filteredPosts);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, [search, user]);\r\n\r\n  return (\r\n    \r\n    <>\r\n      <Header />\r\n      <div className=\"home\">\r\n        <Posts posts={posts} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"oYAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CACnD,MAAO,YAAY,CACnB,MAAO,CAAAC,KAAK,KAAM,8BAA8B,CAChD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,IAAAC,SAAA,CAA0Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,YAAA,CAAmBf,WAAW,CAAC,CAAC,CAAxBgB,MAAM,CAAAD,YAAA,CAANC,MAAM,CACd,IAAAC,WAAA,CAAiBtB,UAAU,CAACO,OAAO,CAAC,CAA5BgB,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAEZtB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAuB,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,aAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEG,CAAA9B,KAAK,CAAC+B,GAAG,UAAAC,MAAA,CAAUjB,MAAM,CAAE,CAAC,QAAxCS,GAAG,CAAAI,QAAA,CAAAK,IAAA,CACHR,aAAa,CAAGD,GAAG,CAACU,IAAI,CAACC,MAAM,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,QAAQ,GAAKpB,IAAI,CAACoB,QAAQ,GAAC,CAC9ExB,QAAQ,CAACY,aAAa,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAExBW,OAAO,CAACC,KAAK,CAAAZ,QAAA,CAAAU,EAAM,CAAC,CAAC,yBAAAV,QAAA,CAAAa,IAAA,MAAAlB,OAAA,gBAExB,kBARK,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAQf,CAEDzB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACH,MAAM,CAAEE,IAAI,CAAC,CAAC,CAElB,mBAEEV,KAAA,CAAAF,SAAA,EAAAuC,QAAA,eACEzC,IAAA,CAACN,MAAM,GAAE,CAAC,cACVM,IAAA,QAAK0C,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBzC,IAAA,CAACL,KAAK,EAACc,KAAK,CAAEA,KAAM,CAAE,CAAC,CACpB,CAAC,EACN,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}